<!DOCTYPE html>  
<html lang="bn">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">  
<title>Minhajul Pro Quiz</title>  
  
<style>  
body{margin:0;font-family:Arial;background:#4b006e;color:white;text-align:center;}  
h1{margin-top:25px}  
.card{background:#2a003d;padding:25px;border-radius:25px;width:90%;max-width:420px;margin:20px auto;box-shadow:0 10px 25px rgba(0,0,0,0.4);}  
button{padding:14px;margin:8px 0;width:85%;border:none;border-radius:30px;font-size:16px;cursor:pointer;}  
.startBtn,.levelBtn{background:#ffc107;color:black;font-weight:bold;}  
.locked{background:gray;color:white;}  
.optionBtn{background:white;color:black;border-radius:15px;}  
.correct{background:#4caf50 !important;color:white;}  
.wrong{background:#f44336 !important;color:white;}  
.nextBtn{background:#4caf50;color:white;}  
.shareBtn{background:#e91e63;color:white;}  
.scoreRow{display:flex;justify-content:space-between;margin:8px 0;font-size:18px;}  
</style>  
</head>  
<body>  
  
<h1>Minhajul Pro Quiz</h1>  
  
<div id="startPage" class="card">  
<h2>üß† ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ú‡ßç‡¶û‡¶æ‡¶® ‡¶™‡¶∞‡ßÄ‡¶ï‡ßç‡¶∑‡¶æ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>  
<button class="startBtn" onclick="showLevels()">Start</button>  
</div>  
  
<div id="levelPage" class="card" style="display:none;"></div>  
<div id="quizPage" class="card" style="display:none;"></div>  
<div id="resultPage" class="card" style="display:none;"></div>  
  
<script>  
  
let unlockedLevel=0;  
let currentLevel=0;  
let questionIndex=0;  
let levelCoin=0;  
let totalCoin=0;  
let levelRight=0;  
let levelWrong=0;  
let totalRight=0;  
let totalWrong=0;  
  
function shuffle(arr){return arr.sort(()=>Math.random()-0.5);}  
  
/* ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶∏‡¶¨ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ö‡¶™‡¶∞‡¶ø‡¶¨‡¶∞‡ßç‡¶§‡¶ø‡¶§ ‡¶•‡¶æ‡¶ï‡¶¨‡ßá */  
const levels = [...arguments.callee.caller?.levels || []];
</script>

<script>
/* ‡¶è‡¶ñ‡¶æ‡¶®‡ßá ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶Ü‡¶ó‡ßá‡¶∞ levels array Í∑∏ÎåÄÎ°ú ‡¶¨‡¶∏‡¶æ‡¶® */
</script>

<script>

/* ‡¶Ü‡¶ó‡ßá‡¶∞ JS ‡¶è‡¶∞ ‡¶Æ‡¶§‡ßã‡¶á */
function showLevels(){
document.getElementById("startPage").style.display="none";
let box=document.getElementById("levelPage");
box.style.display="block";
box.innerHTML="<h2>‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®</h2>";
levels.forEach((lvl,i)=>{
let btn=document.createElement("button");
btn.innerText="‡¶≤‡ßá‡¶≠‡ßá‡¶≤ "+(i+1)+" - "+lvl.name;
btn.className="levelBtn";
if(i>unlockedLevel){btn.classList.add("locked");btn.disabled=true;}
btn.onclick=()=>startLevel(i);
box.appendChild(btn);
});
}

function startLevel(i){
currentLevel=i;
questionIndex=0;
levelCoin=0;
levelRight=0;
levelWrong=0;
document.getElementById("levelPage").style.display="none";
document.getElementById("quizPage").style.display="block";
showQuestion();
}

function showQuestion(){
let q=levels[currentLevel].questions[questionIndex];
let box=document.getElementById("quizPage");
box.innerHTML="<h3>"+q.q+"</h3>";
shuffle([...q.o]).forEach(opt=>{
let btn=document.createElement("button");
btn.innerText=opt;
btn.className="optionBtn";
btn.onclick=()=>checkAnswer(btn,opt,q.a);
box.appendChild(btn);
});
}

function checkAnswer(btn,selected,correct){
let buttons=document.querySelectorAll(".optionBtn");
buttons.forEach(b=>{
b.disabled=true;
if(b.innerText===correct)b.classList.add("correct");
if(b.innerText===selected&&selected!==correct)b.classList.add("wrong");
});
if(selected===correct){
levelCoin+=10;
totalCoin+=10;
levelRight++;
totalRight++;
}else{
levelWrong++;
totalWrong++;
}
setTimeout(nextQuestion,1000);
}

function nextQuestion(){
questionIndex++;
if(questionIndex<7){
showQuestion();
}else{
showLevelResult();
}
}

function showLevelResult(){
document.getElementById("quizPage").style.display="none";
let box=document.getElementById("resultPage");
box.style.display="block";
box.innerHTML=
"<h2>üèÜ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶∏‡¶Æ‡ßç‡¶™‡¶®‡ßç‡¶®</h2>"+
"<div class='scoreRow'><span>‡¶Æ‡ßã‡¶ü ‡¶™‡ßç‡¶∞‡¶∂‡ßç‡¶®</span><span>7</span></div>"+
"<div class='scoreRow'><span>‡¶∏‡¶†‡¶ø‡¶ï ‡¶â‡¶§‡ßç‡¶§‡¶∞</span><span>"+levelRight+"</span></div>"+
"<div class='scoreRow'><span>‡¶≠‡ßÅ‡¶≤ ‡¶â‡¶§‡ßç‡¶§‡¶∞</span><span>"+levelWrong+"</span></div>"+
"<div class='scoreRow'><span>‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶ï‡ßü‡ßá‡¶®</span><span>"+levelCoin+"</span></div>"+
shareButtons()+
(currentLevel<levels.length-1?
"<button class='nextBtn' onclick='goNextLevel()'>‡¶™‡¶∞‡ßá‡¶∞ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤</button>"
:
"<button class='nextBtn' onclick='showFinal()'>‡¶ö‡ßÇ‡ßú‡¶æ‡¶®‡ßç‡¶§ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</button>"
);
}

function goNextLevel(){
unlockedLevel++;
document.getElementById("resultPage").style.display="none";
showLevels();
}

function showFinal(){
let box=document.getElementById("resultPage");
box.innerHTML=
"<h2>üèÜ ‡¶ö‡ßÇ‡ßú‡¶æ‡¶®‡ßç‡¶§ ‡¶´‡¶≤‡¶æ‡¶´‡¶≤</h2>"+
"<div class='scoreRow'><span>‡¶Æ‡ßã‡¶ü ‡¶∏‡¶†‡¶ø‡¶ï</span><span>"+totalRight+"</span></div>"+
"<div class='scoreRow'><span>‡¶Æ‡ßã‡¶ü ‡¶≠‡ßÅ‡¶≤</span><span>"+totalWrong+"</span></div>"+
"<div class='scoreRow'><span>‡¶Æ‡ßã‡¶ü ‡¶ï‡ßü‡ßá‡¶®</span><span>"+totalCoin+"</span></div>"+
shareButtons()+
"<button class='nextBtn' onclick='location.reload()'>‡¶Ü‡¶¨‡¶æ‡¶∞ ‡¶ñ‡ßá‡¶≤‡ßÅ‡¶®</button>";
}

function shareButtons(){
return "<button class='shareBtn' onclick='shareFB()'>Facebook ‡¶è ‡¶∂‡ßá‡ßü‡¶æ‡¶∞</button>"+
"<button class='shareBtn' onclick='shareWA()'>WhatsApp ‡¶è ‡¶∂‡ßá‡ßü‡¶æ‡¶∞</button>"+
"<button class='shareBtn' onclick='shareIG()'>Instagram ‡¶è ‡¶∂‡ßá‡ßü‡¶æ‡¶∞</button>";
}

function shareFB(){
let text="‡¶Ü‡¶Æ‡¶ø Minhajul Pro Quiz ‡¶è "+totalCoin+" ‡¶ï‡ßü‡ßá‡¶® ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø!";
let url=encodeURIComponent(location.href);
window.open("https://www.facebook.com/sharer/sharer.php?u="+url+"&quote="+text);
}

function shareWA(){
let text=encodeURIComponent("‡¶Ü‡¶Æ‡¶ø Minhajul Pro Quiz ‡¶è "+totalCoin+" ‡¶ï‡ßü‡ßá‡¶® ‡¶™‡ßá‡ßü‡ßá‡¶õ‡¶ø! "+location.href);
window.open("https://wa.me/?text="+text);
}

function shareIG(){
alert("Instagram ‡¶è ‡¶∏‡¶∞‡¶æ‡¶∏‡¶∞‡¶ø ‡¶∂‡ßá‡ßü‡¶æ‡¶∞ ‡¶ì‡ßü‡ßá‡¶¨ ‡¶•‡ßá‡¶ï‡ßá ‡¶∏‡¶Æ‡ßç‡¶≠‡¶¨ ‡¶®‡ßü‡•§ ‡¶∏‡ßç‡¶ï‡ßã‡¶∞ ‡¶ï‡¶™‡¶ø ‡¶ï‡¶∞‡ßá Instagram Story ‡¶§‡ßá ‡¶¶‡¶ø‡¶®‡•§");
}

</script>
</body>
</html>
